{"ast":null,"code":"import _classCallCheck from\"/Users/wubin/IdeaProjects/cs510/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/wubin/IdeaProjects/cs510/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/wubin/IdeaProjects/cs510/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/wubin/IdeaProjects/cs510/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Modal from\"./components/Modal\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var list=[{rank:1,score:\"\",professor:\"aaa\",homepage:\"aa\"},{rank:2,score:\"\",professor:\"bb\",homepage:\"bb\"}];var proxyurl=\"https://cors-anywhere.herokuapp.com/\";var backendurl=\"https://backend.cs411team1.web.illinois.edu/polls/\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.toggle=function(){_this.setState({modal:!_this.state.modal});};_this.handleSubmit=function(item){_this.toggle();var query=item.query;query=query.replaceAll(\" \",\"_\");_this.setState({Q:item.query});console.log(item.query);axios.get(proxyurl+backendurl+\"getProfessors/\"+\"\".concat(query)).then(function(res){return _this.getProfessorUpdate(res.data,item);});};_this.createItem=function(){var item={rank:\"\",score:\"\",professor:\"\",homepage:\"\"};_this.setState({activeItem:item,modal:!_this.state.modal});};_this.createItem2=function(){var item={professor:\"\",homepage:\"\"};_this.setState({activeItem:item,modal:!_this.state.modal});};_this.renderItems=function(){var newItems=_this.state.resultList;console.log(newItems);return newItems.map(function(item){return/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"todo-title mr-2\",title:item.homepage,children:[/*#__PURE__*/_jsx(\"div\",{className:\"d\",children:/*#__PURE__*/_jsx(\"a\",{href:item.homepage,children:item.professor})}),/*#__PURE__*/_jsxs(\"div\",{children:[\"rank: \",item.rank,\", score: \",item.score]})]})},item.rank);});};_this.state={resultList:[],modal:false,Q:\"\",activeItem:{query:\"\",rank:\"\",score:0.0,professor:\"\",homepage:\"\"}};return _this;}_createClass(App,[{key:\"getProfessorUpdate\",value:function getProfessorUpdate(data,item){var templist=[];var temp={rank:\"\",score:\"\",professor:\"\",homepage:\"\"};for(var i=0;i<data.length;i++){temp=JSON.parse(data[i]);templist.push(temp);}this.setState({resultList:templist});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-black-50 text-uppercase text-center my-4\",children:\"Professor Search Engine\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-10 mx-auto p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"a\",{href:proxyurl,children:[\"Go to \",proxyurl,\" to request temporary access to the demo server\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:this.createItem,children:\"Rank Professor\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Current Query: \",this.state.Q]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush border-top-0\",children:this.renderItems()})]})})}),this.state.modal?/*#__PURE__*/_jsx(Modal,{activeItem:this.state.activeItem,toggle:this.toggle,onSave:this.handleSubmit}):null]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/wubin/IdeaProjects/cs510/src/App.js"],"names":["React","Component","Modal","axios","list","rank","score","professor","homepage","proxyurl","backendurl","App","props","toggle","setState","modal","state","handleSubmit","item","query","replaceAll","Q","console","log","get","then","res","getProfessorUpdate","data","createItem","activeItem","createItem2","renderItems","newItems","resultList","map","templist","temp","i","length","JSON","parse","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport axios from \"axios\";\n\nconst list = [\n  { rank: 1,\n    score:\"\",\n    professor: \"aaa\",\n    homepage: \"aa\"},\n  { rank: 2,\n    score:\"\",\n    professor: \"bb\",\n    homepage: \"bb\"}\n]\n\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\nconst backendurl = \"https://backend.cs411team1.web.illinois.edu/polls/\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      resultList: [],\n      modal: false,\n      Q:\"\",\n      activeItem: {\n        query: \"\",\n        rank:\"\",\n        score:0.0,\n        professor: \"\",\n        homepage: \"\",\n      },\n    };\n  }\n\n\n  toggle = () => {\n    this.setState({ modal: !this.state.modal });\n  };\n\n  handleSubmit = (item) => {\n    this.toggle();\n    var query = item.query\n    query = query.replaceAll(\" \",\"_\")\n    this.setState({ Q: item.query})\n    console.log(item.query)\n    axios\n        .get(proxyurl+backendurl+\"getProfessors/\"+`${query}`)\n        .then(res => this.getProfessorUpdate(res.data, item));\n  };\n  getProfessorUpdate(data, item){\n\n    var templist = []\n    var temp = { rank: \"\", score:\"\",professor: \"\", homepage: \"\" };\n    for (var i=0;i<data.length;i++) {\n      temp = JSON.parse(data[i]);\n      templist.push(temp)\n    }\n    this.setState({ resultList: templist })\n  }\n\n  createItem = () => {\n    const item = { rank: \"\", score:\"\",professor: \"\", homepage: \"\" };\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n  createItem2 = () => {\n    const item = { professor: \"\", homepage: \"\" };\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n\n  renderItems = () => {\n    const newItems = this.state.resultList\n    console.log(newItems)\n    return newItems.map((item) => (\n        <li\n            key={item.rank}\n            className=\"list-group-item d-flex justify-content-between align-items-center\"\n        >\n        <span\n            className={`todo-title mr-2`}\n            title={item.homepage}\n        >\n          <div className=\"d\"><a href={item.homepage}>{item.professor}</a></div>\n          <div>rank: {item.rank}, score: {item.score}</div>\n        </span>\n        </li>\n    ));\n  };\n\n  render() {\n    return (\n        <main className=\"container\">\n          <h1 className=\"text-black-50 text-uppercase text-center my-4\" >Professor Search Engine</h1>\n          <div className=\"row\">\n            <div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n              <div className=\"card p-3\">\n                <div><a href={proxyurl}>Go to {proxyurl} to request temporary access to the demo server</a></div>\n                <div className=\"mb-4\">\n                  <button\n                      className=\"btn btn-primary\"\n                      onClick={this.createItem}\n                  >\n                    Rank Professor\n                  </button>\n                  {/*&nbsp;*/}\n                  {/*<button*/}\n                  {/*    className=\"btn btn-primary\"*/}\n                  {/*    onClick={this.createItem2}*/}\n                  {/*>*/}\n                  {/*  Rank Paper*/}\n                  {/*</button>*/}\n                </div>\n                <div>Current Query: {this.state.Q}</div>\n                {/*{this.renderTabList()}*/}\n                <ul className=\"list-group list-group-flush border-top-0\">\n                  {this.renderItems()}\n                </ul>\n              </div>\n            </div>\n          </div>\n          {this.state.modal ? (\n              <Modal\n                  activeItem={this.state.activeItem}\n                  toggle={this.toggle}\n                  onSave={this.handleSubmit}\n              />\n          ) : null}\n        </main>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}